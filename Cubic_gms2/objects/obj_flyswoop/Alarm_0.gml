switch(step){
    case 0:
    case 4:
        dy = 1;
        break;
    case 2:
    case 3:
        dy = -1;
}
switch(step){
    case 0:
    case 1:
    case 2:
        dx = dir;
}

event_inherited();


